<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>InfoWars Guyana</title>
  <meta name="theme-color" content="#000000" />
  <link rel="manifest" href="manifest.json" />
  <style>
    html, body {
      height: 100%;
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      background: #f0f0f0;
    }body > main {
  flex: 1;
}

header {
  background-color: #000;
  color: white;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 15px;
  position: relative;
}

.brand {
  text-align: center;
  flex: 1;
  font-size: 1.4rem;
  font-weight: bold;
}
.brand small {
  display: block;
  font-size: 10px;
  font-weight: normal;
}

.icon-btn {
  background: none;
  border: none;
  color: white;
  font-size: 20px;
  cursor: pointer;
  z-index: 1010;
}

#menu-toggle {
  display: none;
}

.dropdown {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: #111;
  z-index: 1000;
  border-top: 1px solid #333;
  padding: 10px 15px;
}
#menu-toggle:checked ~ .dropdown {
  display: block;
}

.menu-header {
  font-size: 1.1rem;
  font-weight: bold;
  color: white;
  margin-bottom: 10px;
}

.epaper-bar {
  display: flex;
  align-items: center;
  flex-wrap: nowrap;
  overflow-x: auto;
  gap: 10px;
  padding: 10px 15px;
  background: #111;
}

.epaper-bar a {
  white-space: nowrap;
  background: #222;
  color: #fff;
  padding: 6px 10px;
  border-radius: 4px;
  font-size: 0.9rem;
  text-decoration: none;
  transition: background 0.3s;
  flex-shrink: 0;
}

.epaper-bar a:hover {
  background: #333;
}

.guyana-letters {
  display: inline-flex;
  font-weight: bold;
  font-size: 1.4rem;
  letter-spacing: 1px;
  margin-left: 5px;
}
.g1 { color: #d9272e; }
.g2 {
  background: linear-gradient(to right, #d9272e 50%, #ffcb05 50%);
  -webkit-background-clip: text;
  color: transparent;
}
.g3 {
  background: linear-gradient(to top left, #111 45%, #ffcb05 55%);
  -webkit-background-clip: text;
  color: transparent;
}
.g4 {
  background: linear-gradient(to right, white 50%, #ffcb05 50%);
  -webkit-background-clip: text;
  color: transparent;
}
.g5 {
  background: linear-gradient(to right, #2bb673 50%, white 50%);
  -webkit-background-clip: text;
  color: transparent;
}
.g6 {
  background: linear-gradient(to bottom right, #2bb673 50%, #ffcb05 50%);
  -webkit-background-clip: text;
  color: transparent;
}

.menu-toggle-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: -5px;
  z-index: 1010;
}
.menu-label {
  font-size: 10px;
  color: white;
  margin-top: 2px;
  font-weight: normal;
  opacity: 0.8;
}

.main-container {
  display: flex;
  flex-wrap: wrap;
  padding: 10px;
  gap: 20px;
}
.column {
  flex: 1;
  min-width: 300px;
}
.card {
  background: white;
  border-radius: 10px;
  padding: 10px;
  margin-bottom: 15px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.section-title {
  font-size: 1.2rem;
  font-weight: bold;
  margin: 10px 0;
  padding: 10px;
  border-radius: 8px;
  cursor: pointer;
  color: white;
}
.preview-strip {
  display: flex;
  flex-wrap: nowrap;
  overflow-x: auto;
  gap: 10px;
  padding: 5px 0;
}
.preview-strip img {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: 5px;
}
.preview-strip div {
  text-align: center;
  font-size: 10px;
  color: #333;
}
.news-item {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 10px;
}
.news-text {
  flex: 1;
  font-size: 0.85rem;
}
.news-media {
  width: 90px;
  height: 90px;
  object-fit: cover;
  border-radius: 5px;
}
.video-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 10px;
}
.video-thumb {
  background: white;
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  overflow: hidden;
}
.video-thumb img {
  width: 100%;
  display: block;
}
.video-thumb p {
  margin: 5px;
  font-size: 12px;
  color: #333;
}
.ads {
  background: #ff914d;
  text-align: center;
  font-weight: bold;
  padding: 10px;
  border-radius: 5px;
  color: white;
  margin: 20px 10px 10px;
}
.section-message {
  text-align: center;
  font-size: 0.8rem;
  color: gray;
  padding: 5px;
  font-style: italic;
}
footer {
  background-color: #000;
  color: white;
  text-align: center;
  padding: 10px 0;
  font-size: 12px;
}

  </style>
</head>
<body>
<header>
  <div class="menu-toggle-container">
    <button class="icon-btn" onclick="location.reload()">&#8962;</button>
    <div class="menu-label">Home</div>
  </div>
  <div class="brand">
    INFO WARS
    <span class="guyana-letters">
      <span class="g1">G</span>
      <span class="g2">U</span>
      <span class="g3">Y</span>
      <span class="g4">A</span>
      <span class="g5">N</span>
      <span class="g6">A</span>
    </span>
    <small>All the news in one place</small>
  </div>
  <div class="menu-toggle-container">
    <input type="checkbox" id="menu-toggle" />
    <label for="menu-toggle" class="icon-btn">&#9776;</label>
    <div class="menu-label">EPapers</div>
    <div class="dropdown">
      <div class="epaper-bar">
        <a href="https://guyanatimesgy.com" target="_blank">Guyana Times</a>
        <a href="https://www.kaieteurnewsonline.com/" target="_blank">Kaieteur News</a>
        <a href="https://epaper.stabroeknews.com/stabroek-news" target="_blank">Stabroek News</a>
        <a href="https://guyanachronicle.com/" target="_blank">Guyana Chronicle</a>
      </div>
    </div>
  </div>
</header>
<main>
  <div class="main-container">
    <div class="column">
      <div class="section-title" style="background:#004aad;" onclick="toggleSection('facebook-section', 'facebook-preview')">FACEBOOK News click here</div>
      <div id="facebook-preview" class="preview-strip"></div>
      <div id="facebook-section" style="display:none;">
        <div id="status" class="section-message">Loading latest posts...</div>
        <div id="result"></div>
      </div>
    </div>
    <div class="column">
      <div class="section-title" style="background:#e60039;" onclick="toggleSection('youtube-section', 'youtube-preview')">YOUTUBE News</div>
      <div id="youtube-status" class="section-message"></div>
      <div id="youtube-preview" class="preview-strip"></div>
      <div id="youtube-section" style="display:none;">
        <div class="video-grid" id="youtube-feed">
          <p style="grid-column: 1 / -1; text-align: center;">Loading videos...</p>
        </div>
      </div>
    </div>
  </div>
  <div class="ads">ADVERTISEMENT</div>
</main>
<footer>
  Â© 2025 InfoWarsGY. All rights reserved.
</footer>
<script>
const datasetUrl = "/api/news";function truncate(text, maxLength) { return text.length > maxLength ? text.substring(0, maxLength).trim() + "..." : text; }

function toggleSection(sectionId, previewId) { const section = document.getElementById(sectionId); const preview = document.getElementById(previewId); const isVisible = section.style.display === 'block'; section.style.display = isVisible ? 'none' : 'block'; preview.style.display = isVisible ? 'flex' : 'none'; }

function renderPosts(data) { const resultBox = document.getElementById("result"); const statusBox = document.getElementById("status"); const previewBox = document.getElementById("facebook-preview");

if (!data.length) { statusBox.innerText = "No posts found."; resultBox.innerHTML = ""; return; }

statusBox.innerText = Showing latest posts; previewBox.innerHTML = data.slice(0, 6).map(post => { const thumb = post.media?.[0]?.thumbnail; const link = post.postUrl || post.url; const name = post.user?.name || "Unknown"; return thumb && link ? <div><a href="${link}" target="_blank"><img src="${thumb}" /></a><div>${name}</div></div> : ""; }).join("");

resultBox.innerHTML = data.map(post => { const readableDate = post.timestamp ? new Date(post.timestamp * 1000).toLocaleString() : "Date not available"; const displayName = post.user?.name || "Unknown Page"; const mediaThumbnail = post.media?.[0]?.thumbnail; const mediaUrl = post.postUrl || post.url;

const mediaHTML = mediaThumbnail && mediaUrl ? `<a href="${mediaUrl}" target="_blank"><img src="${mediaThumbnail}" class="news-media" /></a>` : "";

return `
  <div class="card">
    <div class="news-item">
      <div class="news-text">
        <h3>${displayName}</h3>
        <p>${truncate(post.text || "...", 200)}</p>
        <p style="font-size: 0.75rem; color: gray;">${readableDate}</p>
        ${mediaUrl ? `<a href="${mediaUrl}" target="_blank">View Original Post</a>` : ""}
      </div>
      ${mediaHTML}
    </div>
  </div>
`;

}).join(""); }

async function loadNews() { const statusBox = document.getElementById("status"); try { const response = await fetch(datasetUrl); if (!response.ok) throw new Error("News fetch failed."); const data = await response.json(); renderPosts(data); } catch (error) { console.error("News Load Error:", error); statusBox.innerText = "Failed to load news: " + error.message; } }

async function loadYouTube() { const container = document.querySelector(".video-grid"); const previewBox = document.getElementById("youtube-preview"); const statusBox = document.getElementById("youtube-status"); try { const response = await fetch("/api/youtube"); if (!response.ok) throw new Error("YouTube fetch failed"); const data = await response.json(); const validVideos = data.filter(video => video.thumbnailUrl && video.url && video.channelName);

statusBox.innerText = validVideos.length ? "Showing latest videos" : "No videos found";
previewBox.innerHTML = validVideos.slice(0, 6).map(video => `<div><a href="${video.url}" target="_blank"><img src="${video.thumbnailUrl}" /></a><div>${video.channelName}</div></div>`).join("");

container.innerHTML = validVideos.slice(0, 6).map(video => {
  const title = video.title || "Untitled Video";
  const url = video.url;
  const thumbnail = video.thumbnailUrl;
  const channel = video.channelName;
  return `
    <div class="video-thumb">
      <a href="${url}" target="_blank">
        <img src="${thumbnail}" alt="YouTube thumbnail">
      </a>
      <p style="font-weight: bold;">${channel}</p>
      <p>${title}</p>
    </div>
  `;
}).join("");

} catch (err) { console.error("YouTube Load Error:", err); statusBox.innerText = "Failed to load videos"; container.innerHTML = <p style="color:red;">Failed to load YouTube videos</p>; } }

window.addEventListener("DOMContentLoaded", () => { loadNews(); loadYouTube(); }); </script>

</body>
</html>
